{"ast":null,"code":"import tippy, { createSingleton } from 'tippy.js';\nexport { default as tippy } from 'tippy.js';\nimport React, { useRef, useLayoutEffect, useEffect, forwardRef, cloneElement, useState, Children } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nfunction preserveRef(ref, node) {\n  if (ref) {\n    if (typeof ref === 'function') {\n      ref(node);\n    }\n\n    if ({}.hasOwnProperty.call(ref, 'current')) {\n      ref.current = node;\n    }\n  }\n}\n\nfunction ssrSafeCreateDiv() {\n  return isBrowser && document.createElement('div');\n}\n\nfunction updateClassName(tooltip, action, classNames) {\n  classNames.split(/\\s+/).forEach(function (name) {\n    if (name) {\n      tooltip.classList[action](name);\n    }\n  });\n}\n\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\n\nfunction useUpdateClassName(component, className, deps) {\n  useIsomorphicLayoutEffect(function () {\n    var tooltip = component.instance.popperChildren.tooltip;\n\n    if (className) {\n      updateClassName(tooltip, 'add', className);\n      return function () {\n        updateClassName(tooltip, 'remove', className);\n      };\n    }\n  }, [className].concat(deps));\n}\n\nfunction useInstance(initialValue) {\n  // Using refs instead of state as it's recommended to not store imperative\n  // values in state due to memory problems in React(?)\n  var ref = useRef();\n\n  if (!ref.current) {\n    ref.current = typeof initialValue === 'function' ? initialValue() : initialValue;\n  }\n\n  return ref.current;\n}\n\nfunction useSingletonCreate(component, props, enabled, deps) {\n  useIsomorphicLayoutEffect(function () {\n    var instances = component.instances;\n    var instance = createSingleton(instances, props);\n    component.instance = instance;\n\n    if (!enabled) {\n      instance.disable();\n    }\n\n    return function () {\n      instance.destroy();\n      component.instances = instances.filter(function (i) {\n        return !i.state.isDestroyed;\n      });\n    };\n  }, deps);\n}\n\nfunction useSingletonUpdate(component, props, enabled) {\n  useIsomorphicLayoutEffect(function () {\n    if (component.renders === 1) {\n      component.renders++;\n      return;\n    }\n\n    var instance = component.instance;\n    instance.setProps(props);\n\n    if (enabled) {\n      instance.enable();\n    } else {\n      instance.disable();\n    }\n  });\n}\n\nfunction Tippy(_ref) {\n  var children = _ref.children,\n      content = _ref.content,\n      className = _ref.className,\n      visible = _ref.visible,\n      singleton = _ref.singleton,\n      _ref$enabled = _ref.enabled,\n      enabled = _ref$enabled === void 0 ? true : _ref$enabled,\n      _ref$multiple = _ref.multiple,\n      multiple = _ref$multiple === void 0 ? true : _ref$multiple,\n      _ref$ignoreAttributes = _ref.ignoreAttributes,\n      ignoreAttributes = _ref$ignoreAttributes === void 0 ? true : _ref$ignoreAttributes,\n      __source = _ref.__source,\n      __self = _ref.__self,\n      restOfNativeProps = _objectWithoutPropertiesLoose(_ref, [\"children\", \"content\", \"className\", \"visible\", \"singleton\", \"enabled\", \"multiple\", \"ignoreAttributes\", \"__source\", \"__self\"]);\n\n  var isControlledMode = visible !== undefined;\n  var isSingletonMode = singleton !== undefined;\n\n  var _useState = useState(false),\n      mounted = _useState[0],\n      setMounted = _useState[1];\n\n  var component = useInstance(function () {\n    return {\n      container: ssrSafeCreateDiv(),\n      renders: 1\n    };\n  });\n\n  var props = _extends({\n    ignoreAttributes: ignoreAttributes,\n    multiple: multiple\n  }, restOfNativeProps, {\n    content: component.container\n  });\n\n  if (isControlledMode) {\n    props.trigger = 'manual';\n  }\n\n  if (isSingletonMode) {\n    enabled = false;\n  }\n\n  var deps = [children.type]; // CREATE\n\n  useIsomorphicLayoutEffect(function () {\n    var instance = tippy(component.ref, props);\n    component.instance = instance;\n\n    if (!enabled) {\n      instance.disable();\n    }\n\n    if (visible) {\n      instance.show();\n    }\n\n    if (isSingletonMode) {\n      singleton(instance);\n    }\n\n    setMounted(true);\n    return function () {\n      instance.destroy();\n    };\n  }, deps); // UPDATE\n\n  useIsomorphicLayoutEffect(function () {\n    // Prevent this effect from running on 1st render\n    if (component.renders === 1) {\n      component.renders++;\n      return;\n    }\n\n    var instance = component.instance;\n    instance.setProps(props);\n\n    if (enabled) {\n      instance.enable();\n    } else {\n      instance.disable();\n    }\n\n    if (isControlledMode) {\n      if (visible) {\n        instance.show();\n      } else {\n        instance.hide();\n      }\n    }\n  });\n  useUpdateClassName(component, className, deps);\n  return React.createElement(React.Fragment, null, cloneElement(children, {\n    ref: function ref(node) {\n      component.ref = node;\n      preserveRef(children.ref, node);\n    }\n  }), mounted && createPortal(content, component.container));\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  var ContentType = PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.element]);\n  Tippy.propTypes = {\n    content: PropTypes.oneOfType([ContentType, PropTypes.arrayOf(ContentType)]).isRequired,\n    children: PropTypes.element.isRequired,\n    visible: PropTypes.bool,\n    enabled: PropTypes.bool,\n    className: PropTypes.string,\n    singleton: PropTypes.func\n  };\n}\n\nvar Tippy$1 = forwardRef(function TippyWrapper(_ref2, _ref3) {\n  var children = _ref2.children,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"children\"]);\n\n  return React.createElement(Tippy, props, cloneElement(children, {\n    ref: function ref(node) {\n      preserveRef(_ref3, node);\n      preserveRef(children.ref, node);\n    }\n  }));\n});\n\nfunction TippySingleton(_ref) {\n  var children = _ref.children,\n      className = _ref.className,\n      _ref$enabled = _ref.enabled,\n      enabled = _ref$enabled === void 0 ? true : _ref$enabled,\n      _ref$ignoreAttributes = _ref.ignoreAttributes,\n      ignoreAttributes = _ref$ignoreAttributes === void 0 ? true : _ref$ignoreAttributes,\n      restOfNativeProps = _objectWithoutPropertiesLoose(_ref, [\"children\", \"className\", \"enabled\", \"ignoreAttributes\"]);\n\n  var component = useInstance({\n    instances: [],\n    renders: 1\n  });\n\n  var props = _extends({\n    ignoreAttributes: ignoreAttributes\n  }, restOfNativeProps);\n\n  var deps = [children.length];\n  useSingletonCreate(component, props, enabled, deps);\n  useSingletonUpdate(component, props, enabled);\n  useUpdateClassName(component, className, deps);\n  return Children.map(children, function (child) {\n    return cloneElement(child, {\n      enabled: false,\n      onCreate: function onCreate(instance) {\n        if (child.props.onCreate) {\n          child.props.onCreate(instance);\n        }\n\n        component.instances.push(instance);\n      }\n    });\n  });\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  TippySingleton.propTypes = {\n    children: PropTypes.arrayOf(PropTypes.element).isRequired\n  };\n}\n\nfunction useSingleton(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      className = _ref.className,\n      _ref$enabled = _ref.enabled,\n      enabled = _ref$enabled === void 0 ? true : _ref$enabled,\n      _ref$ignoreAttributes = _ref.ignoreAttributes,\n      ignoreAttributes = _ref$ignoreAttributes === void 0 ? true : _ref$ignoreAttributes,\n      restOfNativeProps = _objectWithoutPropertiesLoose(_ref, [\"className\", \"enabled\", \"ignoreAttributes\"]);\n\n  var component = useInstance({\n    instance: null,\n    instances: [],\n    renders: 1\n  });\n\n  var props = _extends({\n    ignoreAttributes: ignoreAttributes\n  }, restOfNativeProps);\n\n  var deps = [component.instances.length];\n  useSingletonCreate(component, props, enabled, deps);\n  useSingletonUpdate(component, props, enabled);\n  useUpdateClassName(component, className, deps);\n  return function (instance) {\n    component.instances.push(instance);\n  };\n}\n\nexport default Tippy$1;\nexport { TippySingleton, useSingleton };","map":{"version":3,"sources":["../src/utils.js","../src/util-hooks.js","../src/Tippy.js","../src/TippySingleton.js","../src/hooks.js"],"names":["isBrowser","ref","document","classNames","tooltip","useIsomorphicLayoutEffect","component","updateClassName","useRef","initialValue","instances","instance","createSingleton","i","children","content","className","visible","singleton","enabled","multiple","ignoreAttributes","__source","__self","restOfNativeProps","isControlledMode","isSingletonMode","mounted","setMounted","useState","useInstance","container","ssrSafeCreateDiv","renders","props","deps","tippy","useUpdateClassName","cloneElement","preserveRef","createPortal","process","ContentType","PropTypes","Tippy","func","forwardRef","useSingletonCreate","useSingletonUpdate","onCreate","child","TippySingleton","isRequired"],"mappings":"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","sourcesContent":["export const isBrowser =\n  typeof window !== 'undefined' && typeof document !== 'undefined';\n\nexport function preserveRef(ref, node) {\n  if (ref) {\n    if (typeof ref === 'function') {\n      ref(node);\n    }\n    if ({}.hasOwnProperty.call(ref, 'current')) {\n      ref.current = node;\n    }\n  }\n}\n\nexport function ssrSafeCreateDiv() {\n  return isBrowser && document.createElement('div');\n}\n\nexport function updateClassName(tooltip, action, classNames) {\n  classNames.split(/\\s+/).forEach(name => {\n    if (name) {\n      tooltip.classList[action](name);\n    }\n  });\n}\n","import {isBrowser, updateClassName} from './utils';\nimport {useLayoutEffect, useEffect, useRef} from 'react';\nimport {createSingleton} from 'tippy.js';\n\nexport const useIsomorphicLayoutEffect = isBrowser\n  ? useLayoutEffect\n  : useEffect;\n\nexport function useUpdateClassName(component, className, deps) {\n  useIsomorphicLayoutEffect(() => {\n    const {tooltip} = component.instance.popperChildren;\n    if (className) {\n      updateClassName(tooltip, 'add', className);\n      return () => {\n        updateClassName(tooltip, 'remove', className);\n      };\n    }\n  }, [className, ...deps]);\n}\n\nexport function useInstance(initialValue) {\n  // Using refs instead of state as it's recommended to not store imperative\n  // values in state due to memory problems in React(?)\n  const ref = useRef();\n\n  if (!ref.current) {\n    ref.current =\n      typeof initialValue === 'function' ? initialValue() : initialValue;\n  }\n\n  return ref.current;\n}\n\nexport function useSingletonCreate(component, props, enabled, deps) {\n  useIsomorphicLayoutEffect(() => {\n    const {instances} = component;\n    const instance = createSingleton(instances, props);\n\n    component.instance = instance;\n\n    if (!enabled) {\n      instance.disable();\n    }\n\n    return () => {\n      instance.destroy();\n      component.instances = instances.filter(i => !i.state.isDestroyed);\n    };\n  }, deps);\n}\n\nexport function useSingletonUpdate(component, props, enabled) {\n  useIsomorphicLayoutEffect(() => {\n    if (component.renders === 1) {\n      component.renders++;\n      return;\n    }\n\n    const {instance} = component;\n\n    instance.setProps(props);\n\n    if (enabled) {\n      instance.enable();\n    } else {\n      instance.disable();\n    }\n  });\n}\n","import React, {forwardRef, cloneElement, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {createPortal} from 'react-dom';\nimport tippy from 'tippy.js';\nimport {preserveRef, ssrSafeCreateDiv} from './utils';\nimport {\n  useInstance,\n  useIsomorphicLayoutEffect,\n  useUpdateClassName,\n} from './util-hooks';\n\nexport function Tippy({\n  children,\n  content,\n  className,\n  visible,\n  singleton,\n  enabled = true,\n  multiple = true,\n  ignoreAttributes = true,\n  // Filter React development reserved props\n  // added by babel-preset-react dev plugins:\n  // transform-react-jsx-self and transform-react-jsx-source\n  __source,\n  __self,\n  ...restOfNativeProps\n}) {\n  const isControlledMode = visible !== undefined;\n  const isSingletonMode = singleton !== undefined;\n\n  const [mounted, setMounted] = useState(false);\n  const component = useInstance(() => ({\n    container: ssrSafeCreateDiv(),\n    renders: 1,\n  }));\n\n  const props = {\n    ignoreAttributes,\n    multiple,\n    ...restOfNativeProps,\n    content: component.container,\n  };\n\n  if (isControlledMode) {\n    props.trigger = 'manual';\n  }\n\n  if (isSingletonMode) {\n    enabled = false;\n  }\n\n  const deps = [children.type];\n\n  // CREATE\n  useIsomorphicLayoutEffect(() => {\n    const instance = tippy(component.ref, props);\n\n    component.instance = instance;\n\n    if (!enabled) {\n      instance.disable();\n    }\n\n    if (visible) {\n      instance.show();\n    }\n\n    if (isSingletonMode) {\n      singleton(instance);\n    }\n\n    setMounted(true);\n\n    return () => {\n      instance.destroy();\n    };\n  }, deps);\n\n  // UPDATE\n  useIsomorphicLayoutEffect(() => {\n    // Prevent this effect from running on 1st render\n    if (component.renders === 1) {\n      component.renders++;\n      return;\n    }\n\n    const {instance} = component;\n\n    instance.setProps(props);\n\n    if (enabled) {\n      instance.enable();\n    } else {\n      instance.disable();\n    }\n\n    if (isControlledMode) {\n      if (visible) {\n        instance.show();\n      } else {\n        instance.hide();\n      }\n    }\n  });\n\n  useUpdateClassName(component, className, deps);\n\n  return (\n    <>\n      {cloneElement(children, {\n        ref(node) {\n          component.ref = node;\n          preserveRef(children.ref, node);\n        },\n      })}\n      {mounted && createPortal(content, component.container)}\n    </>\n  );\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  const ContentType = PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n    PropTypes.element,\n  ]);\n\n  Tippy.propTypes = {\n    content: PropTypes.oneOfType([ContentType, PropTypes.arrayOf(ContentType)])\n      .isRequired,\n    children: PropTypes.element.isRequired,\n    visible: PropTypes.bool,\n    enabled: PropTypes.bool,\n    className: PropTypes.string,\n    singleton: PropTypes.func,\n  };\n}\n\nexport default forwardRef(function TippyWrapper({children, ...props}, ref) {\n  return (\n    <Tippy {...props}>\n      {cloneElement(children, {\n        ref(node) {\n          preserveRef(ref, node);\n          preserveRef(children.ref, node);\n        },\n      })}\n    </Tippy>\n  );\n});\n","import {Children, cloneElement} from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  useInstance,\n  useUpdateClassName,\n  useSingletonUpdate,\n  useSingletonCreate,\n} from './util-hooks';\n\nexport default function TippySingleton({\n  children,\n  className,\n  enabled = true,\n  ignoreAttributes = true,\n  ...restOfNativeProps\n}) {\n  const component = useInstance({\n    instances: [],\n    renders: 1,\n  });\n\n  const props = {\n    ignoreAttributes,\n    ...restOfNativeProps,\n  };\n\n  const deps = [children.length];\n\n  useSingletonCreate(component, props, enabled, deps);\n  useSingletonUpdate(component, props, enabled);\n  useUpdateClassName(component, className, deps);\n\n  return Children.map(children, child => {\n    return cloneElement(child, {\n      enabled: false,\n      onCreate(instance) {\n        if (child.props.onCreate) {\n          child.props.onCreate(instance);\n        }\n\n        component.instances.push(instance);\n      },\n    });\n  });\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  TippySingleton.propTypes = {\n    children: PropTypes.arrayOf(PropTypes.element).isRequired,\n  };\n}\n","import {\n  useInstance,\n  useSingletonCreate,\n  useSingletonUpdate,\n  useUpdateClassName,\n} from './util-hooks';\n\nexport function useSingleton({\n  className,\n  enabled = true,\n  ignoreAttributes = true,\n  ...restOfNativeProps\n} = {}) {\n  const component = useInstance({\n    instance: null,\n    instances: [],\n    renders: 1,\n  });\n\n  const props = {\n    ignoreAttributes,\n    ...restOfNativeProps,\n  };\n\n  const deps = [component.instances.length];\n\n  useSingletonCreate(component, props, enabled, deps);\n  useSingletonUpdate(component, props, enabled);\n  useUpdateClassName(component, className, deps);\n\n  return instance => {\n    component.instances.push(instance);\n  };\n}\n"]},"metadata":{},"sourceType":"module"}